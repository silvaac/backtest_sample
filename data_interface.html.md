# Main data interface


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

Idea is collect the different interface into one place. If one wants to
code one more interface, one just needs to add code to “data” folder.

------------------------------------------------------------------------

<a
href="https://github.com/silvaac/backtest_sample/blob/main/backtest_sample/data_interface.py#L11"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_class

>      get_class (source, where)

\*Dynamically import a class from a file.

Parameters: - source: The name of the class within data (and the file
without .py extension). Note the convention: class and file name are
equal - where: folder path

Returns: - Ouput the class.\*

------------------------------------------------------------------------

<a
href="https://github.com/silvaac/backtest_sample/blob/main/backtest_sample/data_interface.py#L59"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_pm

>      get_pm (source='vol_target', where='pm')

------------------------------------------------------------------------

<a
href="https://github.com/silvaac/backtest_sample/blob/main/backtest_sample/data_interface.py#L56"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_tc

>      get_tc (source='simple', where='tc')

------------------------------------------------------------------------

<a
href="https://github.com/silvaac/backtest_sample/blob/main/backtest_sample/data_interface.py#L53"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_risk

>      get_risk (source='sig_model', where='risk')

------------------------------------------------------------------------

<a
href="https://github.com/silvaac/backtest_sample/blob/main/backtest_sample/data_interface.py#L50"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_er

>      get_er (source='ma_model', where='er')

------------------------------------------------------------------------

<a
href="https://github.com/silvaac/backtest_sample/blob/main/backtest_sample/data_interface.py#L47"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_data

>      get_data (source='yahoo', where='data')

## Example

``` python
from backtest_sample.data_interface import get_data
import_module = get_data()
df = import_module('BTC-USD').sim_data()
print(df)
```

    [*********************100%***********************]  1 of 1 completed

                        Open          High  ...     Adj Close       Volume
    Date                                    ...                           
    2014-09-17    465.864014    468.174011  ...    457.334015     21056800
    2014-09-18    456.859985    456.859985  ...    424.440002     34483200
    2014-09-19    424.102997    427.834991  ...    394.795990     37919700
    2014-09-20    394.673004    423.295990  ...    408.903992     36863600
    2014-09-21    408.084991    412.425995  ...    398.821014     26580100
    ...                  ...           ...  ...           ...          ...
    2024-09-13  58130.324219  60648.023438  ...  60571.300781  32490528356
    2024-09-14  60569.117188  60656.722656  ...  60005.121094  16428405496
    2024-09-15  60000.726562  60381.917969  ...  59182.835938  18120960867
    2024-09-16  59185.226562  59205.511719  ...  58192.507812  32032822113
    2024-09-17  58204.093750  61207.335938  ...  61207.335938  32345808896

    [3654 rows x 6 columns]
                        Open          High  ...     Adj Close       Volume
    Date                                    ...                           
    2014-09-17    465.864014    468.174011  ...    457.334015     21056800
    2014-09-18    456.859985    456.859985  ...    424.440002     34483200
    2014-09-19    424.102997    427.834991  ...    394.795990     37919700
    2014-09-20    394.673004    423.295990  ...    408.903992     36863600
    2014-09-21    408.084991    412.425995  ...    398.821014     26580100
    ...                  ...           ...  ...           ...          ...
    2024-09-13  58130.324219  60648.023438  ...  60571.300781  32490528356
    2024-09-14  60569.117188  60656.722656  ...  60005.121094  16428405496
    2024-09-15  60000.726562  60381.917969  ...  59182.835938  18120960867
    2024-09-16  59185.226562  59205.511719  ...  58192.507812  32032822113
    2024-09-17  58204.093750  61207.335938  ...  61207.335938  32345808896

    [3654 rows x 6 columns]

``` python
er = get_er()
prm = {}
prm['mawin'] = 10
prm['sdwin'] = 30
yHat = er(df.values,prm)
print(yHat.y_hat())
```

    {'y_hat': 0.4319}
    {'y_hat': 0.4319}

``` python
risk = get_risk()
prm = {}
prm['wvol'] = 60
riskHat = risk(df.values,prm)
print(riskHat.risk_hat())
```

    {'vol_hat': 0.0303}
    {'vol_hat': 0.0303}

``` python
tTc = get_tc()
prm = {}
prm['tc_slope'] = 1e3
prm['tc_bias'] = 100
tc = tTc(df.values,prm)
print(tc.TC(100))
```

    {'TC': 107.18781178650438}{'TC': 107.18781178650438}

``` python
prm = {}
prm['target_vol'] = 0.005
prm['AUM'] = 10e6
a = get_pm()
vt = a(df.values,prm).allocation(1,0.04)
print(vt)
```

    {'N': 20}{'N': 20}
